<ion-header class="ion-no-border" *ngIf="app.isInMobileMode()">
  <ion-toolbar color="ideaToolbar">
    <ion-buttons slot="start">
      <ion-img [src]="app.getIcon()"></ion-img>
    </ion-buttons>
    <ion-title>{{ 'TABS.DASHBOARD' | translate }}</ion-title>
  </ion-toolbar>
  <ion-toolbar color="ideaToolbar">
    <ion-segment [(ngModel)]="segment">
      <ion-segment-button [value]="MobileSegments.NEWS">
        <ion-label>{{ 'DASHBOARD.NEWS' | translate }}</ion-label>
      </ion-segment-button>
      <ion-segment-button [value]="MobileSegments.DEADLINES">
        <ion-label>{{ 'DASHBOARD.NEXT_DEADLINES' | translate }}</ion-label>
      </ion-segment-button>
      <ion-segment-button [value]="MobileSegments.LINKS">
        <ion-label>{{ 'DASHBOARD.USEFUL_LINKS' | translate }}</ion-label>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid [class.ion-no-padding]="app.isInMobileMode()">
    <ion-row>
      <ion-col [size]="12" [sizeLg]="6">
        <ion-list class="aList" *ngIf="!app.isInMobileMode() || segment === MobileSegments.NEWS">
          <ion-list-header>
            <ion-label>
              <h1 *ngIf="!app.isInMobileMode()">{{ 'DASHBOARD.NEWS' | translate }}</h1>
              <p>{{ 'DASHBOARD.NEWS_I' | translate }}</p>
            </ion-label>
          </ion-list-header>
          <ion-item class="noElements" *ngIf="communications && !communications.length">
            <ion-label>{{ 'COMMON.NO_ELEMENTS' | translate }}</ion-label>
          </ion-item>
          <app-communication *ngIf="!communications"></app-communication>
          <app-communication
            *ngFor="let communication of communications"
            [communication]="communication"
          ></app-communication>
        </ion-list>
      </ion-col>
      <ion-col [class.ion-padding-start]="!app.isInMobileMode()" [size]="12" [sizeLg]="6">
        <ion-list class="aList" *ngIf="!app.isInMobileMode() || segment === MobileSegments.DEADLINES">
          <ion-list-header>
            <ion-label>
              <h1 *ngIf="!app.isInMobileMode()">{{ 'DASHBOARD.NEXT_DEADLINES' | translate }}</h1>
              <p>{{ 'DEADLINES.DEADLINES_TIMEZONE' | translate: { timezone: FAVORITE_TIMEZONE } }}</p>
            </ion-label>
            <ion-button (click)="openAllDeadlines()">{{ 'DASHBOARD.SEE_ALL_DEADLINES' | translate }}</ion-button>
          </ion-list-header>
          <ion-item class="noElements" *ngIf="nextDeadlines && !nextDeadlines.length">
            <ion-label>{{ 'COMMON.NO_ELEMENTS' | translate }}</ion-label>
          </ion-item>
          <app-deadline *ngIf="!nextDeadlines"></app-deadline>
          <app-deadline *ngFor="let deadline of nextDeadlines" [deadline]="deadline"></app-deadline>
        </ion-list>
        <ion-list class="aList" *ngIf="!app.isInMobileMode() || segment === MobileSegments.LINKS">
          <ion-list-header>
            <ion-label>
              <h1 *ngIf="!app.isInMobileMode()">{{ 'DASHBOARD.USEFUL_LINKS' | translate }}</h1>
              <p>{{ 'DASHBOARD.USEFUL_LINKS_I' | translate }}</p>
            </ion-label>
          </ion-list-header>
          <ion-item class="noElements" *ngIf="usefulLinks && !usefulLinks.length">
            <ion-label>{{ 'COMMON.NO_ELEMENTS' | translate }}</ion-label>
          </ion-item>
          <app-useful-link *ngIf="!usefulLinks"></app-useful-link>
          <app-useful-link *ngFor="let link of  usefulLinks" [link]="link"></app-useful-link>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
